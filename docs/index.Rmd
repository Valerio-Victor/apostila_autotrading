---
title: 'AUTOMATIZAÇÃO DE TRADING COM R'
author: 'Desenvolvedor: Victor Valerio'
date: "Última Atualização: `r format.Date(Sys.Date(), '%d-%m-%Y')`"
output:
  rmdformats::robobook:
    self_contained: true
---

```{r setup, include=FALSE}

library(knitr)
library(rmdformats)

## Global options
options(max.print="75")
opts_chunk$set(echo=FALSE,
               cache=TRUE,
               prompt=FALSE,
               tidy=TRUE,
               comment=NA,
               message=FALSE,
               warning=FALSE)
opts_knit$set(width=75)

```

```{css}

.book .book-body .page-inner section.normal h1.title {
    font-size: 0.1em;
    margin-top: 0;
    color: #2f3136;
}

.book .book-body {
    color: #000;
    background: #2f3136;
}

.book .book-body .page-inner section {
    background: #2f3136;
}

.book .book-summary li.title {
    font-weight: bold;
    color: #fff;
    background: #000;
}

.book .book-summary {
    font-weight: bold;
    color: #fff;
    background: #000;
    border-right: 1px solid rgba(255, 255, 255);
}

.book .book-summary ul li a:hover, .book .book-summary ul li.active>a {
    color: #34e795;
    background: #2f3136;
}

.book .book-summary ul li a, .book .book-summary ul li span {
    color: #fff;
    background: #000;
    font-weight: bold;
}

.glyphicon-menu-hamburger:before {
    content: "\e236";
    color: #fff;
}

.h1, .h2, .h3, .h4, .h5, .h6, h1, h2, h3, h4, h5, h6 {
    color: #34e795;
}

.book .book-body .page-inner section.normal {
    color: #fff;
}

.book .book-body .page-inner section.normal a {
    color: #34e795;
    font-weight: bold;
}

div.sourceCode {
    background-color: #2f3136;
}

.book .book-body .page-inner section.normal pre.sourceCode {
    background: #000;
    font-size: 1.6rem;
}

code span.co {
    color: #34e795;
    font-weight: bold;
    font-size: 1.6rem;
}

code span.fu {
    color: #fff;
    font-size: 1.6rem;
}

code span.st {
    color: #70c9e7;
    font-size: 1.6rem;
}

code span#cb1-2 {
    color: #ffb5d3;
    font-size: 1.6rem;
}

```

```{r}

knitr::include_graphics('../images/capa.png')

```

# SOBRE A APOSTILA

Organizadores:

- **Victor Valerio**;

- **Juliano Silva**.


# PRIMEIRA REGRA DE NEGOCIAÇÃO


Como primeiro passo utilizaremos o "filtro simples" como primeira regra de 
negociação, uma abordagem extremamente trivial e, portanto, pouco usual. A 
expectativa com esta aplicação é que se compreenda a lógica de formalização de 
uma regra de negociação a partir de um exemplo acessível, sem qualquer 
compromisso com o desempenho.

Neste caso, a regra “filtro simples” será pautada na comparação dos preços de 
fechamento em cada um dos dias, de modo que, caso o o preço de fechamento 
Conforme apresentado a seguir: **(corrigir a explicação depois da programação)**

$$Comprar: \frac{P_t}{P_{t-1}} > 1+\beta$$
Em que $P_t$ corresponde ao preço de fechamento no período $t$, $P_{t-1}$ 
corresponde ao preço de fechamento no período $t-1$, isto é, imediatamente 
anterior e $\beta$ corresponde ao sinal, ou seja, um escalar positivo $\beta>0$ 
e arbitrariamente definiremos na regra de negociação.

Vamos iniciar a regra de negociação a partir das etapas do ciclo da ciência de 
dados. Assim, em primeiro lugar implementaremos a fase de importação dos dados 
que, neste exemplo, consistirá no uso do IBOVESPA com o ticker _^BVSP_. 

```{r echo=TRUE, message=FALSE, warning=FALSE}

# Parâmetros para importação dos dados:

inicio <- as.Date('2021-01-01')
fim <- Sys.Date()
ticker <- '^BVSP'

# Importação dos dados com quantmod (yahoo finanças):

bvsp_ts <- quantmod::getSymbols(Symbols = ticker,
                                start = inicio,
                                end = fim,
                                auto.assign = FALSE)

# Impressão no console das primeiras 3 linhas:
head(bvsp_ts, n = 3)

```














































